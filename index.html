<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nova Mail</title>
    <link rel="icon" type="image/x-icon" href="https://static.wixstatic.com/media/5f23d5_4387cca31dd1410c8680c07f39ab8089~mv2.png">
    <link rel="stylesheet" href="styles.css">
    <script>
        window.onerror = function(msg, url, line, col, error) {
            console.error('Global error:', msg, 'at', url, ':', line);
            
            // Ignore ResizeObserver errors as they're not critical
            if (msg.includes('ResizeObserver')) {
                return false;
            }
            
            const notification = document.getElementById('notification');
            if (notification) {
                notification.textContent = 'An error occurred. Please refresh the page.';
                notification.className = 'notification error';
                notification.style.display = 'block';
            }
            return false;
        };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<<<<<<< HEAD
    <script src="https://apis.google.com/js/api.js" async defer></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
=======
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://accounts.google.com/gsi/client"></script>
>>>>>>> 769f276 (0.1.0-alpha)
</head>
<body>
    <!-- Change the login overlay section to this -->
    <div id="loginOverlay" class="login-overlay">
        <div class="login-modal">
            <!-- ...existing login modal content... -->
        </div>
    </div>

    <div class="app">
        <div class="sidebar">
            <!-- Add login button here -->
            <button id="loginBtn" class="login-button">
                <i class="fa-brands fa-google"></i>
                Sign in with Google
            </button>
            <div id="emailControls" style="display: none;">
                <button class="new-email-button" id="newEmailBtn">New Email</button>
                <div class="folder-list">
<<<<<<< HEAD
                    <button class="folder active" data-folder="INBOX">Inbox</button>
                    <button class="folder" data-folder="SENT">Sent</button>
                    <button class="folder" data-folder="DRAFT">Drafts</button>
                    <button class="folder" data-folder="TRASH">Trash</button>
                    <button class="folder" data-folder="SPAM">Spam</button>
=======
                    <button class="folder active" data-folder="INBOX">
                        <i class="fa-solid fa-inbox"></i>
                        Inbox
                    </button>
                    <button class="folder" data-folder="SENT">
                        <i class="fa-solid fa-paper-plane"></i>
                        Sent
                    </button>
                    <button class="folder" data-folder="DRAFT">
                        <i class="fa-solid fa-file"></i>
                        Drafts
                    </button>
                    <button class="folder" data-folder="TRASH">
                        <i class="fa-solid fa-trash"></i>
                        Trash
                    </button>
                    <button class="folder" data-folder="SPAM">
                        <i class="fa-solid fa-ban"></i>
                        Spam
                    </button>
>>>>>>> 769f276 (0.1.0-alpha)
                </div>
            </div>
        </div>
        <div class="email-list-container">
            <div class="email-list-header">
                <div class="search-bar">
                    <i class="fa-solid fa-magnifying-glass search-icon"></i>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search emails...">
                </div>
                <div class="email-actions">
                    <button class="action-btn" title="Mark as read" id="markReadBtn">
                        <i class="fa-solid fa-check"></i>
                    </button>
                    <button class="action-btn" title="Mark as unread" id="markUnreadBtn">
                        <i class="fa-regular fa-circle"></i>
                    </button>
                    <button class="action-btn" title="Star" id="starBtn">
                        <i class="fa-regular fa-star"></i>
                    </button>
                    <button class="action-btn" title="Archive" id="archiveBtn">
                        <i class="fa-solid fa-box-archive"></i>
                    </button>
                    <button class="action-btn" title="Delete" id="deleteBtn">
                        <i class="fa-regular fa-trash-can"></i>
                    </button>
                </div>
            </div>
<<<<<<< HEAD
=======
            <!-- Add this div for category tabs -->
            <div class="category-tabs"></div>
>>>>>>> 769f276 (0.1.0-alpha)
            <div class="email-list" id="emailList"></div>
        </div>
        <div class="main-content">
            <div class="no-selection" id="noSelection">
                Select an email to view or compose a new one
            </div>
            <div class="email-view fade-in" id="emailView" style="display: none;">
                <div class="email-header">
<<<<<<< HEAD
                    <h2 id="emailSubject"></h2>
                    <div class="email-meta">
                        <div class="email-address-line">
                            <span class="meta-label">From:</span>
                            <div class="email-address" id="emailFrom"></div>
                        </div>
                        <div class="email-address-line">
                            <span class="meta-label">To:</span>
                            <div class="email-address" id="emailTo"></div>
                        </div>
                        <div class="email-date-line">
                            <span class="meta-label">Date:</span>
                            <div id="emailDate"></div>
=======
                    <button class="back-button" id="backToList">
                        <i class="fa-solid fa-arrow-left"></i>
                        Back to Inbox
                    </button>
                    <div class="header-main">
                        <div class="header-top">
                            <h2 id="emailSubject"></h2>
                            <div class="header-actions">
                                <span class="email-date" id="emailDate"></span>
                            </div>
                        </div>
                        <div class="header-addresses">
                            <div class="address-line">
                                <span class="meta-label">From</span>
                                <div class="email-address" id="emailFrom"></div>
                            </div>
                            <div class="address-line">
                                <span class="meta-label">To</span>
                                <div class="email-address" id="emailTo"></div>
                            </div>
                        </div>
                        <div class="ai-features" id="aiFeatures">
                            <span class="ai-features-title">
                                <i class="fa-solid fa-sparkles"></i>
                                Astro Tools
                            </span>
                            <div class="ai-buttons">
                                <button class="ai-btn" id="summarizeBtn">
                                    <i class="fa-solid fa-compress"></i>
                                    Summarize
                                </button>
                                <button class="ai-btn" id="analyzeBtn">
                                    <i class="fa-solid fa-magnifying-glass-chart"></i>
                                    Analyze
                                </button>
                                <button class="ai-btn" id="extractBtn">
                                    <i class="fa-solid fa-list-check"></i>
                                    Actions
                                </button>
                                <button class="ai-btn" id="suggestBtn">
                                    <i class="fa-solid fa-reply"></i>
                                    Suggest
                                </button>
                            </div>
                            <div id="aiResponse" class="ai-response">
                                <!-- AI responses will appear here -->
                            </div>
                        </div>
                        <div class="quick-actions">
                            <button class="quick-action-btn" id="quickReply">
                                <i class="fa-solid fa-reply"></i>
                                Reply
                            </button>
                            <button class="quick-action-btn" id="quickReplyAll">
                                <i class="fa-solid fa-reply-all"></i>
                                Reply All
                            </button>
                            <button class="quick-action-btn" id="quickForward">
                                <i class="fa-solid fa-share"></i>
                                Forward
                            </button>
>>>>>>> 769f276 (0.1.0-alpha)
                        </div>
                    </div>
                </div>
                <div class="email-content-wrapper">
                    <div class="email-content" id="emailBody"></div>
                </div>
            </div>
            <div class="composer fade-in" id="emailComposer" style="display: none;">
                <div class="composer-header">
                    <h2>New Message</h2>
                    <div class="composer-actions">
<<<<<<< HEAD
                        <button class="minimize-btn">_</button>
                        <button class="close-btn">×</button>
=======
                        <button class="minimize-btn" title="Minimize">
                            <i class="fa-solid fa-minus"></i>
                        </button>
                        <button class="close-btn" title="Close">
                            <i class="fa-solid fa-xmark"></i>
                        </button>
>>>>>>> 769f276 (0.1.0-alpha)
                    </div>
                </div>
                <div class="composer-body">
                    <div class="field">
                        <input type="text" id="toField" placeholder="To">
                        <button class="cc-bcc-btn">Cc/Bcc</button>
                    </div>
                    <div class="cc-bcc-fields" style="display: none;">
                        <div class="field">
                            <input type="text" id="ccField" placeholder="Cc">
                        </div>
                        <div class="field">
                            <input type="text" id="bccField" placeholder="Bcc">
                        </div>
                    </div>
                    <div class="field">
                        <input type="text" id="subjectField" placeholder="Subject">
                    </div>
                    <div class="composer-toolbar">
                        <div class="toolbar-group">
                            <button class="toolbar-btn" data-command="bold" title="Bold">
                                <i class="fa-solid fa-bold"></i>
                            </button>
                            <button class="toolbar-btn" data-command="italic" title="Italic">
                                <i class="fa-solid fa-italic"></i>
                            </button>
                            <button class="toolbar-btn" data-command="underline" title="Underline">
                                <i class="fa-solid fa-underline"></i>
                            </button>
                            <button class="toolbar-btn" data-command="strikeThrough" title="Strike">
                                <i class="fa-solid fa-strikethrough"></i>
                            </button>
                        </div>
                        <div class="toolbar-group">
                            <select class="font-family" title="Font">
                                <option value="Arial">Arial</option>
                                <option value="Times New Roman">Times New Roman</option>
                                <option value="Courier New">Courier New</option>
                            </select>
                            <select class="font-size" title="Size">
                                <option value="1">Small</option>
                                <option value="3" selected>Normal</option>
                                <option value="5">Large</option>
                                <option value="7">Huge</option>
                            </select>
                        </div>
                        <div class="toolbar-group">
                            <button class="toolbar-btn" data-command="foreColor" title="Text Color">
                                <i class="fa-solid fa-palette"></i>
                            </button>
                            <button class="toolbar-btn" data-command="backColor" title="Highlight">
                                <i class="fa-solid fa-highlighter"></i>
                            </button>
                        </div>
                        <div class="toolbar-group">
                            <button class="toolbar-btn" data-command="justifyLeft" title="Align Left">
                                <i class="fa-solid fa-align-left"></i>
                            </button>
                            <button class="toolbar-btn" data-command="justifyCenter" title="Center">
                                <i class="fa-solid fa-align-center"></i>
                            </button>
                            <button class="toolbar-btn" data-command="justifyRight" title="Align Right">
                                <i class="fa-solid fa-align-right"></i>
                            </button>
                        </div>
                        <div class="toolbar-group">
                            <button class="toolbar-btn" data-command="insertUnorderedList" title="Bullet List">
                                <i class="fa-solid fa-list-ul"></i>
                            </button>
                            <button class="toolbar-btn" data-command="insertOrderedList" title="Numbered List">
                                <i class="fa-solid fa-list-ol"></i>
                            </button>
                            <button class="toolbar-btn" data-command="outdent" title="Decrease Indent">
                                <i class="fa-solid fa-outdent"></i>
                            </button>
                            <button class="toolbar-btn" data-command="indent" title="Increase Indent">
                                <i class="fa-solid fa-indent"></i>
                            </button>
                        </div>
                        <div class="toolbar-group">
                            <button class="toolbar-btn" data-command="createLink" title="Insert Link">
                                <i class="fa-solid fa-link"></i>
                            </button>
                            <button class="toolbar-btn" data-command="insertImage" title="Insert Image">
                                <i class="fa-solid fa-image"></i>
                            </button>
                            <label class="toolbar-btn attachment-btn" title="Add Attachment">
                                <i class="fa-solid fa-paperclip"></i>
                                <input type="file" multiple style="display: none;">
                            </label>
                        </div>
                    </div>
                    <div class="editor" id="emailEditor" contenteditable="true"></div>
                    <div class="composer-footer">
                        <div class="attachments-list" id="attachmentsList"></div>
                        <div class="composer-actions">
                            <button class="send-button" id="sendButton">Send</button>
                            <button class="save-draft-button">Save Draft</button>
                            <button class="discard-button">Discard</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="loading" class="loading-overlay">
            <div class="loading-spinner"></div>
        </div>
        <div id="notification" class="notification"></div>
    </div>

    <!-- Add keyboard shortcut help dialog -->
    <div class="shortcut-overlay" id="shortcutHelp">
        <div class="shortcut-dialog">
            <h2>Keyboard Shortcuts</h2>
            <div class="shortcut-grid">
                <div class="shortcut-item">
                    <span>Compose new email</span>
                    <span class="shortcut-key">c</span>
                </div>
                <!-- Add more shortcuts -->
            </div>
        </div>
    </div>
<<<<<<< HEAD
    <script src="app.js"></script>
=======
    <!-- AI Popup Container (initially hidden) -->
    <div id="aiPopup" style="display:none;">
        <div class="popup-content">
            <!-- AI response will be injected here -->
        </div>
        <button id="closeAIPopup">Close</button>
    </div>
    <!-- Load the main app module -->
    <script type="module" src="app.js"></script>
>>>>>>> 769f276 (0.1.0-alpha)
</body>
</html>
